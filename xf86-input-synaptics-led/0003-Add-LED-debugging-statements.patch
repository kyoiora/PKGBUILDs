From ba615b5df6da8a16b1f3b9cd11de96e9fde37345 Mon Sep 17 00:00:00 2001
Message-Id: <ba615b5df6da8a16b1f3b9cd11de96e9fde37345.1353531321.git.matthew.monaco@0x01b.net>
In-Reply-To: <c9804c977c3eaf815b716e5e1ba3d38e1075c9f6.1353531321.git.matthew.monaco@0x01b.net>
References: <c9804c977c3eaf815b716e5e1ba3d38e1075c9f6.1353531321.git.matthew.monaco@0x01b.net>
From: Matthew Monaco <matthew.monaco@0x01b.net>
Date: Wed, 21 Nov 2012 13:50:12 -0700
Subject: [PATCH 3/3] Add LED debugging statements

---
 src/eventcomm.c | 5 +++++
 1 file changed, 5 insertions(+)

diff --git a/src/eventcomm.c b/src/eventcomm.c
index 8f56cdd..9b50a07 100644
--- a/src/eventcomm.c
+++ b/src/eventcomm.c
@@ -384,7 +384,12 @@ event_query_led(InputInfoPtr pInfo)
 {
     SynapticsPrivate *priv = (SynapticsPrivate *)pInfo->private;
 
+    xf86IDrvMsg(pInfo, X_INFO, "led: checking for access to %s\n", SYNAPTICS_LED_SYS_FILE);
     priv->synpara.has_led = !access(SYNAPTICS_LED_SYS_FILE, W_OK);
+    if (priv->synpara.has_led)
+        xf86IDrvMsg(pInfo, X_INFO, "led: access ok\n");
+    else
+        xf86IDrvMsg(pInfo, X_INFO, "led: no access\n");
 }
 
 static void EventUpdateLED(InputInfoPtr pInfo)
-- 
1.8.0

